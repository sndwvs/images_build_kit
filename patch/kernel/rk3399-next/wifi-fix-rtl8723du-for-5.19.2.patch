--- a/drivers/net/wireless/rtl8723du/os_dep/ioctl_cfg80211.c.1	2022-08-20 00:23:18.654663616 +0300
+++ b/drivers/net/wireless/rtl8723du/os_dep/ioctl_cfg80211.c	2022-08-20 00:28:36.900067168 +0300
@@ -171,7 +171,7 @@
 	if (ret != _SUCCESS)
 		goto exit;
 
-#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 0, 0)
+#if LINUX_VERSION_CODE < KERNEL_VERSION(5, 19, 2)
 	cfg80211_ch_switch_notify(adapter->pnetdev, &chdef);
 #else
 	cfg80211_ch_switch_notify(adapter->pnetdev, &chdef, 0);
@@ -3783,7 +3783,7 @@
 	return ret;
 }
 
-#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 0, 0)
+#if LINUX_VERSION_CODE < KERNEL_VERSION(5, 19, 2)
 static int cfg80211_rtw_stop_ap(struct wiphy *wiphy, struct net_device *ndev)
 #else
 static int cfg80211_rtw_stop_ap(struct wiphy *wiphy, struct net_device *ndev, unsigned int link_id)
@@ -5832,7 +5832,7 @@
 	rtw_cfg80211_indicate_scan_done(adapter, true);
 
 	#if (LINUX_VERSION_CODE >= KERNEL_VERSION(3, 11, 0)) || defined(COMPAT_KERNEL_RELEASE)
-#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 0, 0)
+#if LINUX_VERSION_CODE < KERNEL_VERSION(5, 19, 2)
 	if (wdev->current_bss) {
 #else
 	if (wdev->connected) {
