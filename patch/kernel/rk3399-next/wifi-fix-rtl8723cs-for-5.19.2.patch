--- a/drivers/net/wireless/realtek/rtl8723cs/os_dep/linux/ioctl_cfg80211.c	2022-08-19 20:33:18.586999478 +0300
+++ b/drivers/net/wireless/realtek/rtl8723cs/os_dep/linux/ioctl_cfg80211.c	2022-08-19 20:43:55.765436463 +0300
@@ -806,8 +806,12 @@ check_bss:
 
 		DBG_871X(FUNC_ADPT_FMT" call cfg80211_roamed\n", FUNC_ADPT_ARG(padapter));
 #if LINUX_VERSION_CODE >= KERNEL_VERSION(4,12,0)
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(5, 19, 2))
+		roam_info.links[0].bssid = cur_network->network.MacAddress;
+#else
 		roam_info.channel = notify_channel;
 		roam_info.bssid = cur_network->network.MacAddress;
+#endif
 		roam_info.req_ie =
 			pmlmepriv->assoc_req+sizeof(struct ieee80211_hdr_3addr)+2;
 		roam_info.req_ie_len =
@@ -4298,7 +4298,12 @@ static int cfg80211_rtw_change_beacon(st
 	return ret;
 }
 
+//#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 0, 0)
+#if LINUX_VERSION_CODE < KERNEL_VERSION(5, 19, 2)
 static int cfg80211_rtw_stop_ap(struct wiphy *wiphy, struct net_device *ndev)
+#else
+static int cfg80211_rtw_stop_ap(struct wiphy *wiphy, struct net_device *ndev, unsigned int link_id)
+#endif
 {
 	DBG_871X(FUNC_NDEV_FMT"\n", FUNC_NDEV_ARG(ndev));
 	return 0;
@@ -6809,7 +6814,12 @@ void rtw_wdev_unregister(struct wireless
 	rtw_cfg80211_indicate_scan_done(adapter, _TRUE);
 
 	#if (LINUX_VERSION_CODE >= KERNEL_VERSION(3, 11, 0)) || defined(COMPAT_KERNEL_RELEASE)	
-	if (wdev->current_bss) {
+	//#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 0, 0)
+	#if LINUX_VERSION_CODE < KERNEL_VERSION(5, 19, 2)
+		if (wdev->current_bss) {
+	#else
+		if (wdev->connected) {
+	#endif
 		DBG_871X(FUNC_ADPT_FMT" clear current_bss by cfg80211_disconnected\n", FUNC_ADPT_ARG(adapter));
 	#if LINUX_VERSION_CODE < KERNEL_VERSION(4, 2, 0)
 		cfg80211_disconnected(adapter->pnetdev, 0, NULL, 0, GFP_ATOMIC);
