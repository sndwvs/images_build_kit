
source "$CWD/config/sources/rockchip.inc" || exit 1

SERIAL_CONSOLE_SPEED=1500000
SERIAL_CONSOLE=ttyS1

DDR=rk3399_ddr_800MHz_v1.24.bin
MINI_LOADER=rk3399_miniloader_v1.25.bin
BLOB_LOADER=rk3399_loader_v1.24.125.bin
#BL31=rk3399_bl31_v1.32.elf
#BL32=rk3399_bl32_v1.21.bin

BOOT_LOADER_BRANCH="master:tag:v2020.07"

ATF="true"
ATF_PLAT=$SOCFAMILY


case $BOARD_NAME in
    rockpro64|rock_pi_4)
                SERIAL_CONSOLE=ttyS2
                DDR=rk3399_ddr_933MHz_v1.24.bin

                case $KERNEL_SOURCE in
                    legacy)
                            LINUX_SOURCE="https://github.com/ayufan-rock64/linux-kernel"
                            KERNEL_BRANCH="release-4.4.202:tag:4.4.202-1237-rockchip-ayufan"
                            KERNEL_DIR="linux-$SOCFAMILY-$KERNEL_SOURCE-${BOARD_NAME}"
                    ;;
#                    next)
#                            LINUX_SOURCE="https://github.com/ayufan-rock64/linux-mainline-kernel"
#                            KERNEL_BRANCH="master:tag:5.4.0-rc1-1120-ayufan"
#                            KERNEL_BRANCH="linux-5.5.y::"
#                            KERNEL_DIR="linux-$SOCFAMILY-$KERNEL_SOURCE-${BOARD_NAME}"
#                    ;;
                esac
    ;;
#    rock_pi_4)
#                case $KERNEL_SOURCE in
#                    legacy)
#                            LINUX_SOURCE="https://github.com/radxa/kernel"
#                            KERNEL_BRANCH="release-4.4-rockpi4::"
#                            KERNEL_DIR="linux-$SOCFAMILY-$KERNEL_SOURCE-${BOARD_NAME}"
#                    ;;
#                esac
#    ;;
    pinebook_pro)
                SERIAL_CONSOLE=ttyS2

                case $KERNEL_SOURCE in
                    legacy)
                            LINUX_SOURCE="https://github.com/ayufan-rock64/linux-kernel"
                            KERNEL_BRANCH="release-4.4.202:tag:4.4.202-1237-rockchip-ayufan"
                            KERNEL_DIR="linux-$SOCFAMILY-$KERNEL_SOURCE-${BOARD_NAME}"
                    ;;
#                    next)
#                            LINUX_SOURCE="https://gitlab.manjaro.org/tsys/linux-pinebook-pro.git"
#                            KERNEL_BRANCH="master::"
#                            KERNEL_DIR="linux-$SOCFAMILY-$KERNEL_SOURCE-${BOARD_NAME}"
#                    ;;
                esac
    ;;
    firefly_rk3399)
                case $KERNEL_SOURCE in
                    legacy)
#                            LINUX_SOURCE="https://github.com/FireflyTeam/kernel"
#                            KERNEL_BRANCH="stable-4.4-rk3399-linux::"
                            LINUX_SOURCE="https://github.com/ayufan-rock64/linux-kernel"
                            KERNEL_BRANCH="release-4.4.202:tag:4.4.202-1237-rockchip-ayufan"
                            KERNEL_DIR="linux-$SOCFAMILY-$KERNEL_SOURCE-${BOARD_NAME}"
                    ;;
                esac
    ;;
esac

